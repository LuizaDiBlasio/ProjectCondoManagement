<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MobileCondoManagement.Models"
             x:Class="MobileCondoManagement.Views.LoginPage"
             Shell.NavBarIsVisible="False"
             Title="Login">

    <ContentPage.Resources>
        <Color x:Key="PrimaryBlue">#1976d2</Color>
        <Color x:Key="CardBg">#FFFFFF</Color>
        <Color x:Key="ButtonBlue">#3742fa</Color>
    </ContentPage.Resources>

    <Grid BackgroundColor="#f4f6fa" RowDefinitions="Auto,*">
        <VerticalStackLayout Grid.Row="0" VerticalOptions="Center" HorizontalOptions="Center" Padding="0,50,0,0">
            <Image Source="logo_full.png" Aspect="AspectFit" HeightRequest="50" HorizontalOptions="Center" />
         
        </VerticalStackLayout>

        <ScrollView Grid.Row="1" VerticalOptions="FillAndExpand">
            <VerticalStackLayout Padding="30, 20">
                <Frame CornerRadius="12" 
                       Padding="20" 
                       BackgroundColor="{StaticResource CardBg}" 
                       HasShadow="True"
                       VerticalOptions="CenterAndExpand">

                    <VerticalStackLayout Spacing="25">
                        <VerticalStackLayout Spacing="8">
                            <Label Text="Username" FontSize="14" FontAttributes="Bold" />
                            <Entry Text="{Binding Email}" 
                                   Placeholder="Enter username (Email)" 
                                   Keyboard="Email"
                                   Style="{StaticResource EntryStyle}" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="8">
                            <Label Text="Password" FontSize="14" FontAttributes="Bold" />
                            <Entry Text="{Binding Password}" 
                                   Placeholder="Enter password" 
                                   IsPassword="True"
                                   Style="{StaticResource EntryStyle}" />
                        </VerticalStackLayout>

                        <Grid>
                            <Button Grid.Column="1"
                                    Text="Forgot Password?"
                                    FontSize="14"
                                    TextColor="{StaticResource ButtonBlue}"
                                    HorizontalOptions="End"
                                    Command="{Binding ForgotPasswordCommand}"
                                    BackgroundColor="Transparent"
                                    Padding="0"
                                    Margin="0" />
                        </Grid>

                        <Button Text="Sign In" 
                                Command="{Binding LoginCommand}"
                                IsEnabled="{Binding IsNotBusy}"
                                BackgroundColor="{StaticResource ButtonBlue}"
                                TextColor="White"
                                CornerRadius="8"
                                HeightRequest="50"
                                Margin="0,10,0,0">
                            <Button.Triggers>
                                <DataTrigger TargetType="Button" Binding="{Binding IsBusy}" Value="True">
                                    <Setter Property="Text" Value="Signing In..." />
                                </DataTrigger>
                            </Button.Triggers>
                        </Button>

                        <Label Text="{Binding ErrorMessage}"
                               IsVisible="{Binding HasError}"
                               TextColor="Red"
                               HorizontalOptions="Center"
                               FontAttributes="Italic"
                               FontSize="14"
                               Margin="0,10,0,0" />
                    </VerticalStackLayout>
                </Frame>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>